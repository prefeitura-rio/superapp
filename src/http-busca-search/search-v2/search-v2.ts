/**
 * Generated by orval v7.11.2 ðŸº
 * Do not edit manually.
 * Mecanismo de Busca API
 * API para busca textual e vetorial usando Typesense e embeddings gerados via Google Gemini
 * OpenAPI spec version: 1.0
 */
import type {
  GetApiV2Search400,
  GetApiV2Search500,
  GetApiV2SearchId400,
  GetApiV2SearchId404,
  GetApiV2SearchId500,
  GetApiV2SearchIdParams,
  GetApiV2SearchParams,
  ModelsUnifiedDocument,
  ModelsUnifiedSearchResponse,
} from '.././models'

import { customFetchBuscaSearch } from '../../../custom-fetch-busca-search'

/**
 * Executa busca em mÃºltiplas coleÃ§Ãµes configuradas (services, courses, jobs). Suporta keyword, semantic e hybrid search. Retorna documentos com estrutura unificada incluindo campo 'collection' e 'type'.
 * @summary Busca unificada multi-coleÃ§Ã£o (v2)
 */
export type getApiV2SearchResponse200 = {
  data: ModelsUnifiedSearchResponse
  status: 200
}

export type getApiV2SearchResponse400 = {
  data: GetApiV2Search400
  status: 400
}

export type getApiV2SearchResponse500 = {
  data: GetApiV2Search500
  status: 500
}

export type getApiV2SearchResponseComposite =
  | getApiV2SearchResponse200
  | getApiV2SearchResponse400
  | getApiV2SearchResponse500

export type getApiV2SearchResponse = getApiV2SearchResponseComposite & {
  headers: Headers
}

export const getGetApiV2SearchUrl = (params: GetApiV2SearchParams) => {
  const normalizedParams = new URLSearchParams()

  Object.entries(params || {}).forEach(([key, value]) => {
    if (value !== undefined) {
      normalizedParams.append(key, value === null ? 'null' : value.toString())
    }
  })

  const stringifiedParams = normalizedParams.toString()

  return stringifiedParams.length > 0
    ? `/api/v2/search?${stringifiedParams}`
    : `/api/v2/search`
}

export const getApiV2Search = async (
  params: GetApiV2SearchParams,
  options?: RequestInit
): Promise<getApiV2SearchResponse> => {
  return customFetchBuscaSearch<getApiV2SearchResponse>(
    getGetApiV2SearchUrl(params),
    {
      ...options,
      method: 'GET',
    }
  )
}

/**
 * Retorna documento de qualquer coleÃ§Ã£o configurada. Se 'collection' fornecido como query param, tenta buscar nessa coleÃ§Ã£o primeiro. Caso contrÃ¡rio, busca em todas as coleÃ§Ãµes configuradas.
 * @summary Busca documento por ID em qualquer coleÃ§Ã£o configurada (v2)
 */
export type getApiV2SearchIdResponse200 = {
  data: ModelsUnifiedDocument
  status: 200
}

export type getApiV2SearchIdResponse400 = {
  data: GetApiV2SearchId400
  status: 400
}

export type getApiV2SearchIdResponse404 = {
  data: GetApiV2SearchId404
  status: 404
}

export type getApiV2SearchIdResponse500 = {
  data: GetApiV2SearchId500
  status: 500
}

export type getApiV2SearchIdResponseComposite =
  | getApiV2SearchIdResponse200
  | getApiV2SearchIdResponse400
  | getApiV2SearchIdResponse404
  | getApiV2SearchIdResponse500

export type getApiV2SearchIdResponse = getApiV2SearchIdResponseComposite & {
  headers: Headers
}

export const getGetApiV2SearchIdUrl = (
  id: string,
  params?: GetApiV2SearchIdParams
) => {
  const normalizedParams = new URLSearchParams()

  Object.entries(params || {}).forEach(([key, value]) => {
    if (value !== undefined) {
      normalizedParams.append(key, value === null ? 'null' : value.toString())
    }
  })

  const stringifiedParams = normalizedParams.toString()

  return stringifiedParams.length > 0
    ? `/api/v2/search/${id}?${stringifiedParams}`
    : `/api/v2/search/${id}`
}

export const getApiV2SearchId = async (
  id: string,
  params?: GetApiV2SearchIdParams,
  options?: RequestInit
): Promise<getApiV2SearchIdResponse> => {
  return customFetchBuscaSearch<getApiV2SearchIdResponse>(
    getGetApiV2SearchIdUrl(id, params),
    {
      ...options,
      method: 'GET',
    }
  )
}
