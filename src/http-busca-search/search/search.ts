/**
 * Generated by orval v7.11.2 ðŸº
 * Do not edit manually.
 * Mecanismo de Busca API
 * API para busca textual e vetorial usando Typesense e embeddings gerados via Google Gemini
 * OpenAPI spec version: 1.0
 */
import type {
  GetApiV1Search400,
  GetApiV1Search500,
  GetApiV1SearchId404,
  GetApiV1SearchId500,
  GetApiV1SearchParams,
  ModelsSearchResponse,
  ModelsServiceDocument,
} from '.././models'

import { customFetchBuscaSearch } from '../../../custom-fetch-busca-search'

/**
 * Executa busca com 4 estratÃ©gias: keyword (textual), semantic (vetorial), hybrid (combinada) ou ai (agente inteligente)
 * @summary Busca unificada de serviÃ§os pÃºblicos
 */
export type getApiV1SearchResponse200 = {
  data: ModelsSearchResponse
  status: 200
}

export type getApiV1SearchResponse400 = {
  data: GetApiV1Search400
  status: 400
}

export type getApiV1SearchResponse500 = {
  data: GetApiV1Search500
  status: 500
}

export type getApiV1SearchResponseComposite =
  | getApiV1SearchResponse200
  | getApiV1SearchResponse400
  | getApiV1SearchResponse500

export type getApiV1SearchResponse = getApiV1SearchResponseComposite & {
  headers: Headers
}

export const getGetApiV1SearchUrl = (params: GetApiV1SearchParams) => {
  const normalizedParams = new URLSearchParams()

  Object.entries(params || {}).forEach(([key, value]) => {
    if (value !== undefined) {
      normalizedParams.append(key, value === null ? 'null' : value.toString())
    }
  })

  const stringifiedParams = normalizedParams.toString()

  return stringifiedParams.length > 0
    ? `/api/v1/search?${stringifiedParams}`
    : `/api/v1/search`
}

export const getApiV1Search = async (
  params: GetApiV1SearchParams,
  options?: RequestInit
): Promise<getApiV1SearchResponse> => {
  return customFetchBuscaSearch<getApiV1SearchResponse>(
    getGetApiV1SearchUrl(params),
    {
      ...options,
      method: 'GET',
    }
  )
}

/**
 * Retorna os detalhes completos de um serviÃ§o especÃ­fico
 * @summary Busca um serviÃ§o por ID
 */
export type getApiV1SearchIdResponse200 = {
  data: ModelsServiceDocument
  status: 200
}

export type getApiV1SearchIdResponse404 = {
  data: GetApiV1SearchId404
  status: 404
}

export type getApiV1SearchIdResponse500 = {
  data: GetApiV1SearchId500
  status: 500
}

export type getApiV1SearchIdResponseComposite =
  | getApiV1SearchIdResponse200
  | getApiV1SearchIdResponse404
  | getApiV1SearchIdResponse500

export type getApiV1SearchIdResponse = getApiV1SearchIdResponseComposite & {
  headers: Headers
}

export const getGetApiV1SearchIdUrl = (id: string) => {
  return `/api/v1/search/${id}`
}

export const getApiV1SearchId = async (
  id: string,
  options?: RequestInit
): Promise<getApiV1SearchIdResponse> => {
  return customFetchBuscaSearch<getApiV1SearchIdResponse>(
    getGetApiV1SearchIdUrl(id),
    {
      ...options,
      method: 'GET',
    }
  )
}
