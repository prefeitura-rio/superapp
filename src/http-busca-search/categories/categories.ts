/**
 * Generated by orval v7.11.2 ðŸº
 * Do not edit manually.
 * Mecanismo de Busca API
 * API para busca textual e vetorial usando Typesense e embeddings gerados via Google Gemini
 * OpenAPI spec version: 1.0
 */
import type {
  GetApiV1Categories400,
  GetApiV1Categories500,
  GetApiV1CategoriesParams,
  ModelsCategoryResponse,
} from '.././models'

import { customFetchBuscaSearch } from '../../../custom-fetch-busca-search'

/**
 * Endpoint hÃ­brido que retorna lista de categorias ordenadas por popularidade, quantidade de serviÃ§os ou ordem alfabÃ©tica. Permite tambÃ©m filtrar serviÃ§os de uma categoria especÃ­fica em uma Ãºnica chamada. Scores de popularidade sÃ£o baseados em dados hardcoded (futura integraÃ§Ã£o com Google Analytics).

**Casos de Uso:**
1. Listar categorias: GET /api/v1/categories
2. Ordenar por quantidade: GET /api/v1/categories?sort_by=count&order=desc
3. Buscar serviÃ§os de categoria: GET /api/v1/categories?filter_category=EducaÃ§Ã£o&page=1&per_page=10

**Nota:** Quando filter_category Ã© usado, o endpoint retorna tanto a lista de categorias quanto os serviÃ§os filtrados.
 * @summary Lista categorias com contadores de serviÃ§os e scores de popularidade
 */
export type getApiV1CategoriesResponse200 = {
  data: ModelsCategoryResponse
  status: 200
}

export type getApiV1CategoriesResponse400 = {
  data: GetApiV1Categories400
  status: 400
}

export type getApiV1CategoriesResponse500 = {
  data: GetApiV1Categories500
  status: 500
}

export type getApiV1CategoriesResponseComposite =
  | getApiV1CategoriesResponse200
  | getApiV1CategoriesResponse400
  | getApiV1CategoriesResponse500

export type getApiV1CategoriesResponse = getApiV1CategoriesResponseComposite & {
  headers: Headers
}

export const getGetApiV1CategoriesUrl = (params?: GetApiV1CategoriesParams) => {
  const normalizedParams = new URLSearchParams()

  Object.entries(params || {}).forEach(([key, value]) => {
    if (value !== undefined) {
      normalizedParams.append(key, value === null ? 'null' : value.toString())
    }
  })

  const stringifiedParams = normalizedParams.toString()

  return stringifiedParams.length > 0
    ? `/api/v1/categories?${stringifiedParams}`
    : `/api/v1/categories`
}

export const getApiV1Categories = async (
  params?: GetApiV1CategoriesParams,
  options?: RequestInit
): Promise<getApiV1CategoriesResponse> => {
  return customFetchBuscaSearch<getApiV1CategoriesResponse>(
    getGetApiV1CategoriesUrl(params),
    {
      ...options,
      method: 'GET',
    }
  )
}
